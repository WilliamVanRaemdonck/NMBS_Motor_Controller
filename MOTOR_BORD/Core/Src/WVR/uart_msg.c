/*
 * uart_msg.c
 *
 *  Created on: October 29, 2024
 *      Author: William Van Raemdonck
 */

// includes
#include "main.h"
#include <stdio.h>
#include "string.h"

extern UART_HandleTypeDef huart1;

void printLogoNMBS(void){
	char logoNMBS[36][120] = {
			"\r\n  \033[0;34m	                .-*++********************++*-.                                   ",
			"                           .--*#************####****####************#*--.                           ",
			"                     ..-#************=.                      .=************#-..                     ",
			"                  .+*********#=:..                                ..:=#*********+.                  ",
			"               :**********=.                                            .=**********:               ",
			"            .+*********.                   :+#########+:                    .+********+.           ",
			"          -*********:               =+***********************+-                :*********:         ",
			"       .=*******#=.             -********************************-               .=#*******-.      ",
			"      -********+             .#*************+        .#************=                =********:     ",
			"     +*******+.            .+**************#           .*************:                +*******+    ",
			"   .********+                +**+**********#            .+************.                =********.  ",
			"   ********-                  ..:#*********#             =************.                 :#*******. ",
			" .#*******=                     :#*********#            .=***********#.                  =*******#.",
			".=********                      :#*********#            -************=.                   ********=.",
			":#******#.                      :#*********#          :**************.                    .#******#:",
			"-*******+.                      :#*****************##**************:                      .=*******-",
			"********=                       :#*******************************=..                       =********",
			"********=                       :#**********##########***************-                     =********",
			"=*******=.                      :#*********#            :+************#:                  .=*******=",
			":#******#.                      :#*********#               *************-                 .#******#:",
			".=*******+                      :#*********#               :************#                 +*******+.",
			" :********-                     :#*********#                +************                -********: ",
			"   *******#:                    :#*********#                +***********#               :#*******.  ",
			"   :********=                =*++**********#               :***********#-              =********:   ",
			"     +*******=.            .+**************#              :#***********-              =*******+     ",
			"      =********+             #**************:           -#***********+.             =********=      ",
			"       .+********=             :=**********************************=              =********+.       ",
			"          +********-.              .++*************************+-              .-********=          ",
			"           ..#********+                ....=##********##*-...                =********#:           ",
			"               =********#+-                                              -+#********-               ",
			"                  -+**********::.                                  .::**********+-                  ",
			"                     .:+************=.                        .=************+:.                     ",
			"                           :=+#************##*++====++*###***********#+=:                           ",
			"                                  .=****************************=.                           \033[0m"
	};

	//send to user
	for (int i = 0; i < 36; i++) {
		HAL_UART_Transmit(&huart1, (uint8_t*)logoNMBS[i], strlen(logoNMBS[i]), HAL_MAX_DELAY);
		HAL_UART_Transmit(&huart1, (uint8_t*)"\r\n", 2, HAL_MAX_DELAY); // New line after each row
	}
}

void printValues(uint8_t select1, uint8_t select2, uint8_t percent) {
	// ANSI colour codes for styling
	const char* RED = "\033[1;31m";
	const char* GREEN = "\033[1;32m";
	const char* BLUE = "\033[1;34m";
	const char* RESET = "\033[0m";

	// Bar with colour
	char uartBuffer[50];

	snprintf(uartBuffer, sizeof(uartBuffer), "#\tselection1 = %s%d%s\t selection2 = %s%d%s\t speed = %s%d%%%s \r\n", GREEN, select1, RESET, BLUE, select2, RESET, RED, percent, RESET);
	HAL_UART_Transmit(&huart1, (uint8_t *)uartBuffer, strlen(uartBuffer), HAL_MAX_DELAY);
}
